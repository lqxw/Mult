<!DOCTYPE html>
<html id="main">

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Magnifier</title>
<style>
html{
      background: url(solar.jpg) no-repeat center center fixed;
      -webkit-background-size: 100% 100%;
      -moz-background-size: 100% 100%;
      -o-background-size: 100% 100%;
      background-size: 100% 100%;
}

</style>

<!--       -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover; -->

  </head>
  <body>

    <script type="text/javascript">
      var canvas = document.getElementById('canvas');
      var p1;
      var p2;
      var status;

function changeBackPic() {
	var width = window.innerWidth;
	var height = window.innerHeight;
	var point = [ 0.5*(p1[0]+p2[0])/width,0.5*(p1[1]+p2[1])/height];
	alert("point1 is " + p1[0]/width*100 + "% " + p1[1]/height*100+"%");
	alert("point2 is " + p2[0]/width*100 + "% " + p2[1]/height*100+"%");
	alert("point is "+point[0]*100 + "% " + point[1]*100+"%");
	//document.getElementById('main').style.backgroundImage = "url(Galaxy.jpg)"
}


  document.addEventListener('touchstart', function (event) {
	if (event.touches.length >=2) {
          var touch1 = event.touches[0];
		  var touch2 = event.touches[1];
           p1 = [touch1.pageX,touch1.pageY];
           p2 = [touch2.pageX,touch2.pageY];
        }
      }, false);


/* 
      // Stop mobile device from native scrolling away on the page
      document.body.addEventListener('touchmove', function (event) {
        event.preventDefault();
      }, false);

     document.addEventListener('touchmove', function (event) {
        for (var i = 0; i < event.touches.length; i ++) {
          var touch = event.touches[i];
          var px = touch.pageX;
          var py = touch.pageY;
        }
      }, false);

      document.addEventListener('touchend', function () {
      }, false);*/

//scale part-------------

     var scale = 1.0;
     document.addEventListener('gesturechange', function(event) {
      scale = event.scale;
	if (  (scale > 1.02 || scale < 0.98) && p1 && p2 ) {
		//alert("lalala "+scale+" "+p1+" "+p2);
		changeBackPic();
	}
    }); 


    </script>
  

</body></html>
