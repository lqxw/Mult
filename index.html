<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Multi-touch demo</title>
  </head>
  <body>
    <canvas height="2000" width="2000" id="canvas"></canvas>

    <script type="text/javascript">
      var canvas = document.getElementById('canvas');
      var p1;
      var p2;
      // Stop mobile device from native scrolling away on the page
      document.body.addEventListener('touchmove', function (event) {
        event.preventDefault();
      }, false);

      canvas.addEventListener('touchstart', function (event) {
	if (event.touches.length >=2) {
          var touch1 = event.touches[0];
	  var touch2 = event.touches[1];
          var p1 = ""+touch1.pageX+" "+touch1.pageY;
          var p2 = ""+touch2.pageX+" "+touch2.pageY;
	  //alert(p1);
	  //alert(p2);
        }
      }, false);

      canvas.addEventListener('touchmove', function (event) {
        for (var i = 0; i < event.touches.length; i ++) {
          var touch = event.touches[i];
          var px = touch.pageX;
          var py = touch.pageY;
        }
      }, false);

      canvas.addEventListener('touchend', function () {
      }, false);
//scale part-------------

     var scale = 1.0;
   document.addEventListener('gesturechange', function(event) {
      scale = event.scale;
      	//alert(scale);
	//alert("p1 is "+p1);
	//alert("p2 is "+p2);
	if (  (scale > 1.02 || scale < 0.98) && p1 && p2 ) alert(""+scale+" "+p1+" "+p2);
    }); 


    </script>
  

</body></html>
